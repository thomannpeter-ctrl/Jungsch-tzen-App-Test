<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Amtscup JungschÃ¼tzen â€“ Resultat</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body {
  font-family: Arial, sans-serif;
  background: #eef2f7;
  padding: 20px;
}
form {
  max-width: 600px;
  background: #fff;
  padding: 20px;
  border-radius: 10px;
  margin: auto;
}
label {
  display: block;
  margin-top: 12px;
  font-weight: bold;
}
input {
  width: 100%;
  padding: 8px;
}
button {
  margin-top: 20px;
  padding: 12px;
  width: 100%;
  font-size: 16px;
  background: #2563eb;
  color: white;
  border: none;
  border-radius: 8px;
}
</style>
</head>

<body>

<h2 style="text-align:center">Amtscup JungschÃ¼tzen â€“ Resultat</h2>

<form id="resultForm">

<label>Gruppenchef Name</label>
<input id="chef">

<label>Gruppenchef E-Mail</label>
<input id="email" type="email">

<label>Gruppenname</label>
<input id="gruppe">

<label>SchÃ¼tzen Name</label>
<input id="name">

<label>Jahrgang</label>
<input id="jahrgang" type="number">

<label>Resultat</label>
<input id="resultat" type="number">

<label>Summe Gruppe</label>
<input id="summe" type="number">

<button type="submit">ðŸ“§ Resultat senden</button>

</form>

<script>
const SCRIPT_URL =
"https://script.google.com/macros/s/AKfycbzTSku5sCe_J34LU49BHtuJK1gTux6ldG_LndStte6DPABoQ-38Nc_6hvh9LeKbnSrVmQ/exec";

document.getElementById("resultForm").addEventListener("submit", function(e) {
  e.preventDefault();

  const entry = {
    chef: document.getElementById("chef").value,
    email: document.getElementById("email").value,
    gruppe: document.getElementById("gruppe").value,
    name: document.getElementById("name").value,
    jahrgang: document.getElementById("jahrgang").value,
    resultat: document.getElementById("resultat").value,
    summe: document.getElementById("summe").value
  };

  /* ===== MAIL ===== */
  const mailText =
`AMTSCUP JUNGSCHÃœTZEN â€“ RESULTAT

Gruppenchef:
${entry.chef}
${entry.email}

Gruppe: ${entry.gruppe}

SchÃ¼tze:
${entry.name}
${entry.jahrgang}
Resultat: ${entry.resultat}
Summe Gruppe: ${entry.summe}`;

  location.href =
    "mailto:thomannpeter@bluewin.ch" +
    "?subject=" + encodeURIComponent("Amtscup JungschÃ¼tzen â€“ Resultat") +
    "&body=" + encodeURIComponent(mailText);

  /* ===== GOOGLE TABELLE ===== */
  fetch(SCRIPT_URL, {
    method: "POST",
    headers: {
      "Content-Type": "application/x-www-form-urlencoded"
    },
    body: "payload=" + encodeURIComponent(JSON.stringify({
      entries: [entry]
    }))
  });

  alert("Resultat wurde gesendet und gespeichert âœ…");
});
</script>

</body>
</html>
